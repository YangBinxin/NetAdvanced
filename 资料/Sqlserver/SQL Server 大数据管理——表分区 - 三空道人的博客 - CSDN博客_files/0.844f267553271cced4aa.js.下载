webpackJsonp([0],{t3u7:function(t,i){},"v+xA":function(t,i){},"vT+3":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e("woOf"),r=e.n(a),s=e("LTzH"),c=e("VqY/"),l={getTemplatequery:function(t,i){return i&&(i=parseInt(i)),s.a.get(c.a.API_PREVIEW_URL+"ad/template/"+t+"?positionId="+i).then(function(t){var i=t.data.data;if(i)return i.templateContent=JSON.parse(i.templateContent),t.data})}},n={name:"preview",data:function(){return{trackClick:"",reportClick:"",preview:{},imgWidth:95,imgHeight:71,contentMarginLeft:106,clientObj:{},clients:[{id:"1",name:"华为云"},{id:"2",name:"广告"}],isAdClosed:!1,type:"",fType:""}},created:function(){var t=this;if(this.$route.params.id){var i=this.$route.query.positionId?this.$route.query.positionId:"",e=this.$route.query.queryWord?this.$route.query.queryWord:"";this.getTemplatequery(this.$route.params.id,i,e)}else this.preview=r()({},this.templateData),this.type=this.templateType,this.fType=this.feedType,this.getImgArr();this.clients.map(function(i){t.clientObj[i.id]=i.name})},filters:{filterClient:function(t,i){return i[t]}},watch:{feedType:function(t,i){this.fType=t},templateType:function(t,i){this.type=t},templateData:function(t,i){this.preview=r()({},t),this.getImgArr()}},props:{templateData:Object,templateType:String,feedType:String},methods:{getImgArr:function(){if(this.preview.imgUrl&&("3"===this.fType||"3"===this.type)){var t;t=this.preview.imgUrl.split(","),this.preview.imgUrl=t}},getTemplatequery:function(t,i,e){var a=this;l.getTemplatequery(t,i).then(function(t){if(200===t.status){var r=t.data;if(!r)return;a.preview=r.templateContent,a.type=r.templateType,a.fType=a.preview.feedType,a.getImgArr(),a.reportClick='{"mod":"kp_popu_'+i+"-"+r.adContentId+'","keyword":"'+e+'"}',a.trackClick='{"mod":"kp_popu_'+i+"-"+r.adContentId+'","con":",,", "keyword":",'+e+',"}'}})},jumpToPreview:function(t){window.open(""+t)},closeAd:function(){this.isAdClosed=!0}}},o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"preview-wrapper"},[t.isAdClosed?e("div",{staticClass:"close-ad-wrapper"},[e("p",[t._v("CSDN已关闭此广告")])]):t._e(),t._v(" "),"1"===t.type||"4"===t.type?e("div",{staticClass:"picture-ad"},[e("a",{attrs:{target:"_blank","data-track-click":t.trackClick,"data-report-click":t.reportClick},on:{click:function(i){return t.jumpToPreview(t.preview.clickUrl)}}},[e("img",{attrs:{src:t.preview.imgUrl,alt:""}})]),t._v(" "),"1"===t.type?e("div",[e("div",{staticClass:"ad-icon"},[t._v("广告")]),t._v(" "),e("div",{staticClass:"ad-icon close-ad",on:{click:function(i){return t.closeAd()}}},[t._v("关闭")])]):t._e(),t._v(" "),e("img",{staticClass:"popuMonitor",attrs:{src:t.preview.popuMonitor}})]):t._e(),t._v(" "),"2"===t.type?e("div",{staticClass:"feed-template"},["1"===t.fType?e("div",{staticClass:"ad-box ad-imgtxt-box clearfix"},[e("a",{attrs:{href:t.preview.clickUrl,target:"_blank","data-track-click":t.trackClick,"data-report-click":t.reportClick}},[e("div",{staticClass:"img-box"},[e("img",{style:{width:t.imgWidth+"px",height:t.imgHeight+"px"},attrs:{src:t.preview.imgUrl,alt:""}})]),t._v(" "),e("div",{staticClass:"content-box",style:{marginLeft:t.contentMarginLeft+"px"}},[e("p",{staticClass:"tit"},[t._v(t._s(t.preview.title))]),t._v(" "),e("p",{staticClass:"intro"},[t._v(t._s(t.preview.abstract))])])]),t._v(" "),e("div",{staticClass:"ad-icon"},[t._v(t._s(t._f("filterClient")(t.preview.client,t.clientObj)))]),t._v(" "),e("div",{staticClass:"ad-icon close-ad",on:{click:function(i){return t.closeAd()}}},[t._v("关闭")]),t._v(" "),e("img",{staticClass:"popuMonitor",attrs:{src:t.preview.popuMonitor}})]):t._e(),t._v(" "),"2"===t.fType?e("div",{staticClass:"ad-box ad-txt-box"},[e("a",{attrs:{href:t.preview.clickUrl,target:"_blank","data-track-click":t.trackClick,"data-report-click":t.reportClick}},[e("p",{staticClass:"tit"},[t._v(t._s(t.preview.title))]),t._v(" "),e("p",{staticClass:"intro"},[t._v(t._s(t.preview.abstract))])]),t._v(" "),e("div",{staticClass:"ad-icon"},[t._v(t._s(t._f("filterClient")(t.preview.client,t.clientObj)))]),t._v(" "),e("div",{staticClass:"ad-icon close-ad",on:{click:function(i){return t.closeAd()}}},[t._v("关闭")]),t._v(" "),e("img",{staticClass:"popuMonitor",attrs:{src:t.preview.popuMonitor}})]):t._e(),t._v(" "),"3"===t.fType?e("div",{staticClass:"ad-box"},[e("div",{staticClass:"pic_container"},[e("div",{staticClass:"pic_title"},[t._v("\n          "+t._s(t.preview.title)+"\n        ")]),t._v(" "),e("a",{staticClass:"pic_row",attrs:{href:t.preview.clickUrl,target:"_blank","data-track-click":t.trackClick,"data-report-click":t.reportClick}},t._l(t.preview.imgUrl,function(t,i){return e("div",{key:i,staticClass:"pic_item"},[e("img",{attrs:{src:t}})])}),0),t._v(" "),e("div",{staticClass:"ad-icon"},[t._v(t._s(t._f("filterClient")(t.preview.client,t.clientObj)))]),t._v(" "),e("div",{staticClass:"ad-icon close-ad",on:{click:function(i){return t.closeAd()}}},[t._v("关闭")]),t._v(" "),e("img",{staticClass:"popuMonitor",attrs:{src:t.preview.popuMonitor}})])]):t._e(),t._v(" "),"4"===t.fType?e("div",{staticClass:"ad-box clearfix big_pic_container"},[e("a",{attrs:{href:t.preview.clickUrl,target:"_blank","data-track-click":t.trackClick,"data-report-click":t.reportClick}},[e("p",{staticClass:"pic_title"},[t._v(t._s(t.preview.title))]),t._v(" "),e("img",{attrs:{src:t.preview.imgUrl,alt:""}})]),t._v(" "),e("div",{staticClass:"ad-icon"},[t._v(t._s(t._f("filterClient")(t.preview.client,t.clientObj)))]),t._v(" "),e("div",{staticClass:"ad-icon close-ad",on:{click:function(i){return t.closeAd()}}},[t._v("关闭")]),t._v(" "),e("img",{staticClass:"popuMonitor",attrs:{src:t.preview.popuMonitor}})]):t._e()]):t._e(),t._v(" "),"3"===t.type?e("div",{staticClass:"ad-box"},[e("div",{staticClass:"pic_container"},[e("a",{staticClass:"pic_row",attrs:{href:t.preview.clickUrl,target:"_blank","data-track-click":t.trackClick,"data-report-click":t.reportClick}},t._l(t.preview.imgUrl,function(t,i){return e("div",{key:i,staticClass:"pic_item interactiveAd"},[e("img",{attrs:{src:t}})])}),0),t._v(" "),e("div",{staticClass:"ad-icon"},[t._v("广告")]),t._v(" "),e("div",{staticClass:"ad-icon close-ad",on:{click:function(i){return t.closeAd()}}},[t._v("关闭")]),t._v(" "),e("img",{staticClass:"popuMonitor",attrs:{src:t.preview.popuMonitor}})])]):t._e()])};o._withStripped=!0;var p={render:o,staticRenderFns:[]},v=p;var d=!1;var _=e("VU/8")(n,v,!1,function(t){d||(e("v+xA"),e("t3u7"))},"data-v-36749b0d",null);_.options.__file="src/pages/preview/Preview.vue";i.default=_.exports}});
//# sourceMappingURL=0.844f267553271cced4aa.js.map